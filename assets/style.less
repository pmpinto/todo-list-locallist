@import url(https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css);
@import url(https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700);
@import url(https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css);


// ### UTILS ###################################################################

@white: #ECF0F1;
@black: #2C3E50;
@red: #E74C3C;
@blue: #2980B9;

.text-black { color: @black; }
.text-grey { color: fadeout(@black, 50%); }
.text-red { color: @red; }
.text-blue { color: @blue; }
.text-white { color: @white; }

.text-even-bigger { font-size: 1.6em; }
.text-bigger { font-size: 1.3em; }
.text-smaller { font-size: 0.7em; }
.text-even-smaller { font-size: 0.4em; }

.text-center { text-align: center; }

.text-sans { font-family: "Roboto Condensed", sans-serif; }

.icon-spacer-right { margin-right: 0.4em; }

.w400 { font-weight: 400; }
.w700 { font-weight: 700; }

.wrap-1x { padding: 1em; }
.wrap-2x { padding: 2em; }
.wrap-3x { padding: 3em; }

.white { background-color: @white; }
.black { background-color: @black; }
.true-white { background-color: #fff; }
.red { background-color: @red; }
.blue { background-color: @blue; }

.g-30 { width: 30%; }
.g-70 { width: 70%; }
.g-80 { width: 80%; }
.g-100 { width: 100%; }
.center { margin: 0 auto; }
.m0 { margin: 0; }
.block { display: block; }

.flex { display: flex; }
.flex-wrap { flex-wrap: wrap; }
.align-items-center { align-items: center; }
.align-items-stretch { align-items: stretch; }
.flex-basis { flex-basis: 30%; }
.flex-grow { flex-grow: 1; }

[ng-click] { cursor: pointer; }

.transition(@property: all, @duration: 150ms, @timing: ease){
	-webkit-transition: @property @duration @timing;
	transition: @property @duration @timing;
}


body {
	> .flex {
		min-height: 100vh;
	}
	.text-sans;
	.text-black;
	* {
		box-sizing: border-box;
	}
	.flex {
		.flex-wrap;
	}
	p {
		a {
			text-decoration: none;
			&:hover{
				border-bottom: 1px solid fadeout(@blue, 50%);
			}
		}
	}
}




// ### WELCOME #################################################################

.welcome {
	position: fixed;
	width: 100%;
	z-index: 20;
	opacity: 1;
	.transition(opacity, 2s, ease);
	.flex {
		height: 100vh;
		background-color: fadeout(@white, 8%);
	}
	.get-started {
		a {
			border-radius: 4px;
			margin-top: 1em;
			.transition(all, 2s, ease);
			&:hover{
				.blue;
				.text-white;
				.transition(all);
			}
		}
	}
	&.ng-leave-active {
		.transition(opacity, 250ms);
		opacity: 0;
	}

}



// ### MAIN / LEFT PANEL #######################################################

body {
	.left-panel {
		.g-100;
		main {
			header {
				border-bottom: 1px solid fadeout(@black, 80%);
				background-color: fadeout(@black, 65%);
				.container {
					height: 40vh;
					.new-task, .editing-task {
						input {
							border: none;
							outline: none;
							border-bottom: 3px solid #fff;
							background-color: transparent;
							color: #fff;
							&::-webkit-input-placeholder {
								color: fadeout(@white, 25%);
							}
						}
						a.add {
							border-radius: 4px;
							margin-top: 0.5em;
							text-decoration: none;
							.transition(all, 2s, ease);
							&:hover{
								.blue;
								.text-white;
								.transition(all);
							}
						}
					}
				}
			}
			section {
				.task {
					.transition(all, 500ms, ease);
					box-shadow: 0 0px 0px rgba(0,0,0,0.5);
					z-index: 1;
					transform-origin: center left;
					p {
						line-height: 1.5em;
						span {
							cursor: pointer;
							&:hover{
								.text-blue;
								border-bottom: 1px solid fadeout(@blue, 50%);
							}
						}
						a.remove {
							opacity: 0;
							margin-left: 0.5em;
							.text-red;
							.text-smaller;
							&:hover{
								border-bottom: 1px solid fadeout(@red, 50%);
							}
						}
					}
					&.is-editing {
						background-color: lighten(@blue, 25%);
						.text-white;
					}
					&:hover{
						.transition(all);
						box-shadow: 0 15px 60px rgba(0,0,0,0.15);
						transform: scale(1.1);
						z-index: 10;
						a.remove {
							opacity: 1;
						}
					}
					&.ng-enter {
						.transition(all, 150ms);
						transform: scale(1.1);
						box-shadow: 0 15px 60px rgba(0,0,0,0.15);
						opacity: 0;
					}
					&.ng-leave-active {
						.transition(all);
						transform: scaleY(0.1);
						transform-origin: center center;
						opacity: 0;
					}
				}
			}
		}
	}
}



// ### RIGHT PANEL #############################################################

body {
	.right-panel {
		.g-100;
		border-top: 1px solid fadeout(@black, 80%);
		header {
			border-bottom: 1px solid fadeout(@black, 80%);
		}
		section {
			.task {
				cursor: default;
				.transition(background-color, 2s, ease);
				p {
					.transition(color, 2s, ease);
				}
				&:hover{
					.true-white;
					.transition(background-color);
					p {
						.text-black;
						.transition(color);
					}
				}
				&.ng-enter {
					.transition(all, 250ms);
					transform: scaleY(0);
					transform-origin: top left;
				}
				&.ng-enter-active {
					.transition(all, 250ms);
					.true-white;
					transform: scaleY(1);
					p {
						.text-black;
						.transition(color);
					}
				}
			}
		}
	}
}



// ### MEDIA QUERIES ###########################################################

// SMALL SCREENS
@media (max-width: 767px) {
	.flex-basis { flex-basis: 100%; }
	body {
		.text-smaller;
		main {
			header {
				.container { height: 30vh; }
				.new-task, .editing-task { .g-100; }
			}
			section {
				.wrap-1x { padding: 0em; }
				.wrap-2x { padding: 1.5em; }
				.task { margin-bottom: 0.1em; }
			}
		}
	}
}

// MEDIUM SCREENS
@media (min-width: 768px) and (max-width: 1399px) {
	body {
		header {
			.new-task, .editing-task { .g-80; }
		}
	}
}

// LARGE SCREENS
@media (min-width: 1400px) {
	body {
		header {
			.new-task, .editing-task { .g-70; }
		}
		.left-panel { .g-70; }
		.right-panel {
			.g-30;
			position: fixed;
			height: 100vh;
			overflow: scroll;
			border-left: 1px solid fadeout(@black, 80%);
			.task { border-bottom: 1px solid fadeout(@black, 80%); }
		}
	}
}